export function moduleName(){return"cart-checkout-purchase"};export function moduleData(){return{props:{cardData:Object,overviewData:Object},data:function(){return{chartData:[],cardOptions:this.cardData,sub:!0,analytics:!1,error:!1,errorMsg:""}},watch:{overviewData:{handler(t,a){this.getData()},deep:!0},cardOptions:{handler(t,a){this.$emit("card-change",t)},deep:!0}},mounted:function(){this.getData()},computed:{getTheDates(){return this.tableData.report.dates},returnGAdata(){return this.overviewData.globalDataObject.data.analytics},isGAconnected(){return this.analytics}},methods:{chartOptions(){let t={topLeft:8,topRight:8,bottomLeft:8,bottomRight:8};return{chartTitle:this.overviewData.translations.ecommerceOverview,fill:!0,borderColor:["rgba(0,0,0,0)"],borderWidth:2,minBarLength:4,borderRadius:t,maxBarThickness:12,borderSkipped:!0,toolTipType:"label"}},createChartData(){let t=[],a=this.returnGAdata.timeline.report,e=(this.returnGAdata.timeline.report_comparison,this.chartOptions());e.label=this.overviewData.translations.purchases,e.data=a.timeline.ecommercePurchases,e.backgroundColor=["rgba(12, 92, 239, 1)"],e.toolTipLabels=this.overviewData.translations.purchases;let i=this.chartOptions();i.label=this.overviewData.translations.checkoutStarted,i.data=a.timeline.checkouts,i.backgroundColor=["rgba(12, 92, 239, 0.6)"],i.toolTipLabels=this.overviewData.translations.checkoutStarted;let r=this.chartOptions();return r.label=this.overviewData.translations.addToCart,r.data=a.timeline.addToCarts,r.backgroundColor=["rgba(12, 92, 239,0.3)"],r.toolTipLabels=this.overviewData.translations.addToCart,t={labels:a.dates,datasets:[e,i,r]}},getData(){let t=this;if(t.error=!1,!t.overviewData.globalDataObject.loading)return t.returnGAdata?t.returnGAdata.error?(t.error=!0,void(t.errorMsg=t.returnGAdata.message)):void(t.returnGAdata.no_account&&1==t.returnGAdata.no_account?t.analytics=!1:(t.analytics=!0,t.tableData=t.returnGAdata.timeline,t.chartData=t.createChartData())):(t.error=!0,void(t.errorMsg=t.overviewData.translations.analyticsDataUnavailable))}},template:'<div class="uip-padding-s uip-position-relative" :accountConnected="isGAconnected">        <div v-if="error" class="uip-background-red-wash uip-padding-s uip-border-round">{{errorMsg}}</div>        <premium-overlay v-if="sub && overviewData.account != true" :translations="overviewData.translations"></premium-overlay>        <template v-else>          <loading-placeholder v-if="overviewData.globalDataObject.loading == true"></loading-placeholder>          <connect-google-analytics @account-connected="getData()" :translations="overviewData.translations" v-if="overviewData.globalDataObject.loading != true && !isGAconnected && !error"></connect-google-analytics>          <div v-if="!overviewData.ui.editingMode && overviewData.globalDataObject.loading != true && isGAconnected" >            <div class="uip-flex uip-flex-row">              \x3c!--TOTAL ADD TO CARTS --\x3e              <div class="uip-margin-bottom-xs uip-margin-right-l">                <div class="uip-text-bold uip-text-muted uip-margin-bottom-xs uip-text-ellipsis uip-overflow-hidden uip-no-wrap">{{overviewData.translations.addToCart}}</div>                <div class="uip-flex uip-flex-column uip-gap-xs">                  <div class="uip-margin-right-xxs uip-text-xl uip-text-emphasis uip-text-bold">{{tableData.report.totals.addToCarts}}</div>                  <div class=" uip-text-green  uip-text-bold uip-flex "                   :class="{\'uip-text-danger\' : tableData.report.totals_change.addToCarts < 0}">                    <span v-if="tableData.report.totals_change.addToCarts > 0" class="material-icons-outlined" >expand_less</span>                    <span >{{tableData.report.totals_change.addToCarts}}%</span>                  </div>                </div>              </div>              \x3c!--TOTAL CHECKOUTS --\x3e              <div class="uip-margin-bottom-xs uip-margin-right-l">                <div class="uip-text-bold uip-text-muted uip-margin-bottom-xs uip-text-ellipsis uip-overflow-hidden uip-no-wrap">{{overviewData.translations.checkoutStarted}}</div>                <div class="uip-flex uip-flex-column uip-gap-xs">                  <div class="uip-margin-right-xxs uip-text-xl uip-text-emphasis uip-text-bold">{{tableData.report.totals.checkouts}}</div>                  <div class="uip-text-green uip-text-bold uip-flex "                   :class="{\' uip-text-danger\' : tableData.report.totals_change.checkouts < 0}">                    <span v-if="tableData.report.totals_change.checkouts > 0" class="material-icons-outlined" >expand_less</span>                    <span>{{tableData.report.totals_change.checkouts}}%</span>                  </div>                </div>              </div>              \x3c!--TOTAL PURCHASES --\x3e              <div class="uip-margin-bottom-xs">                <div class="uip-text-bold uip-text-muted uip-margin-bottom-xs uip-text-ellipsis uip-overflow-hidden uip-no-wrap">{{overviewData.translations.purchases}}</div>                <div class="uip-flex uip-flex-column uip-gap-xs">                  <div class="uip-margin-right-xxs uip-text-xl uip-text-emphasis uip-text-bold ">{{tableData.report.totals.ecommercePurchases}}</div>                  <div class=" uip-text-green  uip-text-bold uip-flex"                   :class="{\' uip-text-danger\' : tableData.report.totals_change.ecommercePurchases < 0}">                    <span v-if="tableData.report.totals_change.ecommercePurchases > 0" class="material-icons-outlined" >expand_less</span>                    <span>{{tableData.report.totals_change.ecommercePurchases}}%</span>                  </div>                </div>              </div>            </div>            <div class="uip-w-100p uip-margin-top-m">              <uip-chart :dates="getTheDates" v-if="overviewData.globalDataObject.loading != true" type="stacked-bar" :chartData="chartData"  :gridLines="true" cWidth="200px"></uip-chart>            </div>          </div>        </template>     </div>'}};