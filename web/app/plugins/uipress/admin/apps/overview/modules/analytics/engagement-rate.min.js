export function moduleName(){return"engagement-rate"};export function moduleData(){return{props:{cardData:Object,overviewData:Object},data:function(){return{formattedseconds:0,formattedseconds_comp:0,chartData:[],cardOptions:this.cardData,sub:!0,analytics:!1,error:!1,errorMsg:""}},mounted:function(){this.getData()},watch:{overviewData:{handler(e,a){this.getData()},deep:!0},cardOptions:{handler(e,a){this.$emit("card-change",e)},deep:!0}},computed:{returnGAdata(){return this.overviewData.globalDataObject.data.analytics},isGAconnected(){return this.analytics}},methods:{getData(){let e=this;if(e.error=!1,!e.overviewData.globalDataObject.loading){if(!e.returnGAdata)return e.error=!0,void(e.errorMsg=e.overviewData.translations.analyticsDataUnavailable);if(e.returnGAdata.error)return e.error=!0,void(e.errorMsg=e.returnGAdata.message);if(e.returnGAdata.no_account&&1==e.returnGAdata.no_account)e.analytics=!1;else{if(!e.returnGAdata.gafour)return e.error=!0,void(e.errorMsg=e.overviewData.translations.requiresGAfour);if(e.analytics=!0,e.tableData=e.returnGAdata.timeline,e.tableData.report.timeline.engagementRate&&e.returnGAdata.timeline.report_comparison.timeline.engagementRate){var a=e.tableData.report.timeline.engagementRate.length,t=e.tableData.report.totals.engagementRate/a;e.formattedseconds=t.toFixed(2);a=e.returnGAdata.timeline.report_comparison.timeline.engagementRate.length,t=e.returnGAdata.timeline.report_comparison.totals.engagementRate/a;e.formattedseconds_comp=t.toFixed(2)}}}},secondsToHms(e){e=Number(e);var a=Math.floor(e/3600),t=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(a>0?a+"h, ":"")+(t>0?t+"m, ":"")+(r>0?r+"s":"")}},template:'<div class="uip-padding-s uip-position-relative" :accountConnected="isGAconnected">       <div v-if="error" class="uip-background-red-wash uip-padding-s uip-border-round">{{errorMsg}}</div>       <premium-overlay v-if="sub && overviewData.account != true" :translations="overviewData.translations"></premium-overlay>        <template v-else>          <loading-placeholder v-if="overviewData.globalDataObject.loading == true"></loading-placeholder>          <connect-google-analytics @account-connected="getData()" :translations="overviewData.translations" v-if="overviewData.globalDataObject.loading != true && !isGAconnected && !error"></connect-google-analytics>          <div v-if="!overviewData.ui.editingMode && overviewData.globalDataObject.loading != true && isGAconnected" >            <div class="uip-flex uip-flex-center uip-margin-bottom-xs">              <div class="uip-margin-right-s uip-text-xxl uip-text-emphasis uip-text-bold">{{formattedseconds}}%</div>              <div class="uip-background-green-wash uip-text-green uip-border-round uip-padding-xxs uip-text-bold uip-flex uip-margin-right-xs"               :class="{\'uip-background-red-wash uip-text-danger\' : tableData.report.totals_change.engagementRate < 0}">                <span v-if="tableData.report.totals_change.engagementRate > 0" class="material-icons-outlined" >expand_less</span>                <span v-if="tableData.report.totals_change.engagementRate < 0" class="material-icons-outlined" >expand_more</span>              </div>              <div class="uip-text-bold uip-text-green"               :class="{\'uip-text-danger\' : tableData.report.totals_change.engagementRate < 0}">{{tableData.report.totals_change.engagementRate}}%</div>            </div>            <div class="">                <div class="uip-text-muted">{{overviewData.translations.comparedTo}}: {{overviewData.dateRange.startDate_comparison}} - {{overviewData.dateRange.endDate_comparison}} ({{formattedseconds_comp}}%)</div>            </div>          </div>        </template>     </div>'}};