export function moduleName(){return"active-page-views"};export function moduleData(){return{props:{cardData:Object,overviewData:Object},data:function(){return{chartData:[],cardOptions:this.cardData,numbers:[],sub:!0,analytics:!1,error:!1,errorMsg:""}},mounted:function(){this.getData()},watch:{overviewData:{handler(a,t){this.getData()},deep:!0},cardOptions:{handler(a,t){this.$emit("card-change",a)},deep:!0}},computed:{getTheDates(){return this.tableData.report.dates},returnGAdata(){return this.overviewData.globalDataObject.data.analytics},isGAconnected(){return this.analytics}},methods:{createChartData(){let a=[],t=[],e=this,r=[];if(e.returnGAdata.error)return e.error=!0,void(e.errorMsg=e.returnGAdata.message);let i=this.returnGAdata.active_now.report;for(var o=0;o<30;o++){var n=o.toString()+"_key";o<10&&(n="0"+o.toString()+"_key"),t.push(o+" minutes ago"),a[n]=0}for(o=0;o<i.data.length;o++){var s=i.data[o],d=s.minutesAgo+"_key";1==e.returnGAdata.gafour?a[d]=s.screenPageViews:a[d]=s.pageviews}for(o=0;o<30;o++){n=o.toString()+"_key";o<10&&(n="0"+o.toString()+"_key"),r.push(a[n])}return a={labels:t.reverse(),datasets:[{label:e.overviewData.translations.pageViews,fill:!0,data:r.reverse(),backgroundColor:["rgba(12, 92, 239, 0.8)"],borderColor:["rgba(12, 92, 239, 0)"],borderWidth:2,borderRadius:10,maxBarThickness:20,chartTitle:e.overviewData.translations.pageViews,toolTipLabels:t,toolTipType:"dates"}]}},getData(){let a=this;if(a.error=!1,!a.overviewData.globalDataObject.loading){if(!a.returnGAdata)return a.error=!0,void(a.errorMsg=a.overviewData.translations.analyticsDataUnavailable);if(a.returnGAdata.error)return a.error=!0,void(a.errorMsg=a.returnGAdata.message);if(a.returnGAdata.no_account&&1==a.returnGAdata.no_account)return a.loading=!1,void(a.analytics=!1);a.analytics=!0,a.tableData=a.returnGAdata.active_now,a.chartData=a.createChartData()}}},template:'<div class="uip-padding-s uip-position-relative" :accountConnected="isGAconnected">        <div v-if="error" class="uip-background-red-wash uip-padding-s uip-border-round">{{errorMsg}}</div>        <premium-overlay v-if="sub && overviewData.account != true" :translations="overviewData.translations"></premium-overlay>        <template v-else>  \t  \t  <loading-placeholder v-if="overviewData.globalDataObject.loading == true"></loading-placeholder>          <connect-google-analytics @account-connected="getData()" :translations="overviewData.translations" v-if="overviewData.globalDataObject.loading != true && !isGAconnected && !error"></connect-google-analytics>          <div v-if="!overviewData.ui.editingMode && overviewData.globalDataObject.loading != true && isGAconnected" >            <div class="uip-flex uip-flex-center uip-margin-bottom-m">              <div v-if="returnGAdata.gafour" class="uip-margin-right-s uip-text-xxl uip-text-emphasis uip-text-bold">{{tableData.report.totals.screenPageViews}}</div>              <div v-else class="uip-margin-right-s uip-text-xxl uip-text-emphasis uip-text-bold">{{tableData.report.totals.pageviews}}</div>            </div>            <div class="uip-w-100p">              <uip-chart :dates="getTheDates" v-if="overviewData.globalDataObject.loading != true" type="bar" :chartData="chartData"  :gridLines="true" cWidth="200px"></uip-chart>            </div>          </div>        </template>\t\t </div>'}};