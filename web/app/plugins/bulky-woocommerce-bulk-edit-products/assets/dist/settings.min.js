jQuery(document).ready((function(t){"use strict";t(".vi-wbe-save-settings").on("click",(function(){t(this).addClass("loading")})),t(".villatheme-get-key-button").one("click",(function(a){let e=t(this);e.addClass("loading");let o,d=e.data(),n=d.id,i=d.href,l=window.location.hostname;l=l.toLowerCase(),a.preventDefault(),e.attr("data-download"),o=window.open(i,"myWindow","width=380,height=600"),window.addEventListener("message",(function(a){let o=t.parseJSON(a.data),d="",i=o.message,s="",r="";if(o.data.length>0){for(let t=0;t<o.data.length;t++)if(o.data[t].id===n&&(o.data[t].domain===l||""===o.data[t].domain||null==o.data[t].domain)&&((""==d||s<o.data[t].support_until)&&(d=o.data[t].download_key,s=o.data[t].support_until),o.data[t].domain===l)){d=o.data[t].download_key;break}d&&(r=1,t(".villatheme-autoupdate-key-field").val(d))}e.removeClass("loading"),r?(t("<p><strong>"+i+"</strong></p>").insertAfter(".villatheme-autoupdate-key-field"),t(e).closest("form").submit()):t("<p><strong> Your key is not found. Please contact support@villatheme.com </strong></p>").insertAfter(".villatheme-autoupdate-key-field")}))}))}));